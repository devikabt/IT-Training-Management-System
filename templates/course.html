
{% extends 'layout2.html' %}
{% block body %}
   <div class = "container">
      <div clss = "container">
         <div class = "row">
            <div class = "col md-12">
              <h2><button type = "button" class="btn btn-success pull-center" data-toggle="modal" data-target="#myModal"> Add Course Data </button></h2>
                {% with messages = get_flashed_messages() %}

                 {% if messages %}

                 {% for message in messages %}

                 <div class = "alert alert-success alert-dismissable" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="close">
                       <span aria-hidden="true">x</span>
                    </button>
                    {{message}}
                 </div>

                 

                 {%endfor%}
                 {%endif%}
                 {%endwith%}
                 <table class="table table-dark table-hover">
                    <thead class="thead-light">
                    <tr>
                       <th><input type="hidden" name="course Id" ></th>
                        <th>course name</th>
                        <th>course description</th>
                        <th>course duration</th>
                        <th>course price</th>
                        <th>Action</th>
                    </tr>
                    </thead>

                    {% for row in course %}
                    <tr>
                        <td><input type="hidden" name="course Id" value="{{row.id}}"></td>
                        <td>{{row.course_name}}</td>
                        <td>{{row.course_description}}</td>
                        <td>{{row.course_duration}}</td>
                        <td>{{row.course_price}}</td>
                        <td>
                                 <a href = "/update/{{row.id}}" class="btn btn-warning btn-xs" data-toggle="modal" data-target="#modaledit{{row.id}}">Edit</a>
                                 <a href = "/delete/{{row.id}}" class="btn btn-danger btn-xs" onclick = "return confirm('Are you sure to delete?')">Delete</a>
                                </td>
                    </tr>
                    
                    
                    <div id="modaledit{{row.id}}" class="modal fade" role="dialog">
                       <div class="modal-dialog">
                          <div class="modal-content">
                             <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title"> Update Information</h4>
                             </div>
                                 
                             <div class="modal-body">

                                 <form action="{{url_for('update')}}" method="POST">
                                   <div class="form-group">
                                      <label>course Name:</label>
                                      <input type="hidden" name="id" value="{{row.id}}">
                                      <input type="text" class="form-control" name="coursename" value="{{row.course_name}}">
                                   </div>

                                   <div class="form-group">
                                      <label>course Description:</label>
                                      <input type="text" class="form-control" name="coursedescription" value="{{row.course_description}}">             
                                    </div>

                                   <div class="form-group">
                                      <label>course Duration:</label>
                                      <input type="text" class="form-control" name="courseduration" value="{{row.course_duration}}">
                                   </div>

                                   <div class="form-group">
                                      <label>course Price:</label>
                                      <input type="text" class="form-control" name="courseprice" value="{{row.course_price}}">
                                   </div>
                                   
                                   <div class="form-group">
                                      <button class="btn btn-primary" type="submit">Update Data</button>
                                   </div>
                                </form>
                              </div>
                              
                              <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                             </div>
                          </div>
                       </div>
                    </div>
                    {% endfor %}
                 </table>
              </div>
           </div>
           
           <div id="myModal" class="modal fade" role="dialog">
              <div class="modal-dialog">
                 <div class="modal-content">
                    <div class="modal-header">
                       <button type="button" class="close" data-dismiss="modal">&times;</button>
                       <h4 class="modal-title">Please Insert Data</h4>
                    </div>
                    <div class="modal-body">
                       <form action="{{url_for('insert')}}" method="POST">
                          <div class="form-group">
                             <label>course Name:</label>
                             <input type="text" class="form-control" name="coursename" required="1">
                          </div>

                          <div class="form-group">
                             <label>course Description:</label>
                             <input type="text" class="form-control" name="coursedescription" required="1">
                          </div>
                          
                          <div class="form-group">
                             <label>course Duration:</label>
                             <input type="text" class="form-control" name="courseduration" required="1">
                          </div>
         
                          <div class="form-group">
                             <label>course Price:</label>
                             <input type="text" class="form-control" name="courseprice" required="1">
                          </div>
         
                        <div class="form-group">
                          <button class="btn btn-primary" type="submit">Insert Data</button>
                       </div>
                    </form>
                 </div>

                 <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                 </div>
              </div>
           </div>
        </div>
      </div> 
   </div>
{% endblock %}    
       
                                                
             
                         